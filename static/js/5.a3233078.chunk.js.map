{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/FormsControls/FormControl.js","components/common/FormsControls/FormsControls.js","hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogsForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","requiredField","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","props","hasAnError","className","formsCSS","form_control","children","Textarea","restProps","child","Input","InputCheckbox","inputRememberValue","inputCheckbox","not_remember","remember","createField","type","placeholder","name","validators","component","Field","validate","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","DialogItem","path","id","dialCSS","dialog_item","avatar_photo","src","url","alt","dialog_name","active","Message","messCSS","message","maxMessageLength","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Dialogs","dialogsPage","sendMessageOut","dialogsElements","dialogs","map","dialog","photoUrl","key","messagesInElements","messagesIn","messagesOutElements","messagesOut","dialogs_block","h","dialogs_items","messages_in_items","messages_out_items","values","sendMessage","newMessageBody","compose","dispatch"],"mappings":"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","file":"static/js/5.a3233078.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_control\":\"FormsControls_form_control__2K1Ub\",\"error\":\"FormsControls_error__N9PNg\",\"inputCheckbox\":\"FormsControls_inputCheckbox__1ih-R\",\"not_remember\":\"FormsControls_not_remember__Rwkd3\",\"remember\":\"FormsControls_remember__9aCEc\"};","export const requiredField = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required.';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n","import React from \"react\";\r\nimport formsCSS from \"./FormsControls.module.css\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasAnError = touched && error;\r\n    return <>\r\n        <div className={formsCSS.form_control}>\r\n            <div className={(hasAnError ? formsCSS.error : '')}>\r\n                {props.children}\r\n            </div>\r\n            {hasAnError && <span> {error}</span>}\r\n        </div>\r\n    </>\r\n}\r\nexport default FormControl;\r\n","import React from \"react\";\r\nimport formsCSS from \"./FormsControls.module.css\";\r\nimport FormControl from \"./FormControl\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const InputCheckbox = ({input, meta, ...props}) => {\r\n    const inputRememberValue = !input.value;\r\n    return (\r\n        <div className={formsCSS.inputCheckbox}>\r\n            <input {...input} {...props}/>\r\n            {inputRememberValue && <span className={formsCSS.not_remember}>do not remember</span>}\r\n            {!inputRememberValue && <span className={formsCSS.remember}>remember me =)</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (type, placeholder, name, validators, component) => (\r\n    <div>\r\n        <Field type={type} name={name} placeholder={placeholder}\r\n               component={component}\r\n               validate={validators}/>\r\n    </div>\r\n)\r\n","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props}/>;\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_block\":\"Dialogs_dialogs_block__3pFv9\",\"h\":\"Dialogs_h__1mS6P\",\"dialogs\":\"Dialogs_dialogs__3eN6E\",\"dialogs_items\":\"Dialogs_dialogs_items__14_ZZ\",\"messages_in_items\":\"Dialogs_messages_in_items__1YbF6\",\"messages_out_items\":\"Dialogs_messages_out_items__2L8sA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_item\":\"DialogItem_dialog_item__2tRVe\",\"dialogs_items\":\"DialogItem_dialogs_items__2tbBu\",\"active\":\"DialogItem_active__2fShw\",\"avatar_photo\":\"DialogItem_avatar_photo__q239F\",\"dialog_name\":\"DialogItem_dialog_name__1tkcY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__143pa\"};","import React from 'react';\r\nimport dialCSS from './DialogItem.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n    let name = props.name;\r\n\r\n    return (\r\n        <div className={dialCSS.dialog_item}>\r\n            <div className={dialCSS.avatar_photo}>\r\n                <NavLink to={path}>\r\n                <img src={props.url} alt=\"\"/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={dialCSS.dialog_name + ' ' + dialCSS.active}>\r\n                <NavLink to={path}>{name}</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;\r\n","import React from 'react';\r\nimport messCSS from './Message.module.css'\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={messCSS.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\n\r\nconst maxMessageLength = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} validate={[requiredField, maxMessageLength]} name='newMessageBody' placeholder='Enter your message'/>\r\n            <br/>\r\n            <button>send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm);\r\n\r\nexport default AddMessageFormRedux;\r\n","import React from 'react';\r\nimport dialCSS from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport AddMessageFormRedux from \"./DialogsForm\";\r\n\r\nconst Dialogs = ({dialogsPage, sendMessageOut, ...props}) => {\r\n    let dialogsElements = dialogsPage.dialogs\r\n        .map(dialog =>\r\n            <DialogItem url={dialog.photoUrl}\r\n                        name={dialog.name}\r\n                        id={dialog.id}\r\n                        key={dialog.id}\r\n            />\r\n        );\r\n\r\n    let messagesInElements = dialogsPage.messagesIn\r\n        .map(message =>\r\n            <Message message={message.message}\r\n                     id={message.id}\r\n                     key={message.id}\r\n            />\r\n        );\r\n\r\n    let messagesOutElements = dialogsPage.messagesOut\r\n        .map(message =>\r\n            <Message message={message.message}\r\n                     id={message.id}\r\n                     sendMessageOut={sendMessageOut}\r\n                     key={message.id}\r\n            />\r\n        );\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    return (\r\n        <div className={dialCSS.dialogs_block}>\r\n            <div className={dialCSS.h}>Messages</div>\r\n            <div className={dialCSS.dialogs}>\r\n                <div className={dialCSS.dialogs_items}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={dialCSS.messages_in_items}>\r\n                    <p><b>Income messages</b></p>\r\n                    {messagesInElements}\r\n                </div>\r\n                <div className={dialCSS.messages_out_items}>\r\n                    <p><b>Outgo messages</b></p>\r\n                    {messagesOutElements}\r\n                    <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;\r\n","import {sendMessage} from \"../../redux/dialogs_reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessage(newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);\r\n"],"sourceRoot":""}