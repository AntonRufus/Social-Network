{"version":3,"sources":["App.module.css","components/Header/Header.module.css","serviceWorker.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/NavBarFriends/NavBarFriends.jsx","components/Navbar/NavBarLink.jsx","components/Navbar/NavBar.jsx","components/Navbar/NavBarContainer.jsx","redux/app_reducer.js","redux/redux_store.js","hoc/withSuspense.js","App.js","index.js","components/common/Preloader/Preloader.js","redux/auth_reducer.js","components/Navbar/NavBar.module.css","components/Navbar/NavBarFriends/NavBarFriends.module.css","components/Navbar/NavBarLink.module.css","redux/profile_reducer.js","api/api.js","redux/dialogs_reducer.js","utils/object_helpers.js","redux/users_reducer.js","assets/images/loading_gold_svg.svg","components/common/Preloader/Preloader.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","Header","props","className","headCSS","header_block","to","logo","src","alt","login_block","isAuth","logout","onClick","login","HeaderContainer","login_process","this","isFetchingAuth","Preloader","Component","connect","state","auth","NavBarFriends","id","url","name","path","navFrCSS","avatar_block","avatar_photo","avatar_name","avatar_active","NavBarLink","body","linkCSS","item","activeClassName","activeLink","NavBar","friendsShortList","dialogsPage","dialogs","map","dialog","photoUrl","key","navCSS","settings","friends","avatars_top","NavBarContainer","initialState","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profileReducer","dialogReducer","usersPage","usersReducer","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","ProfileContainer","React","lazy","DialogsContainer","UsersContainer","Followers","News","Music","Settings","FriendsContainer","Login","App","initializeApp","appCSS","app_wrapper","header","nav","app_wrapper_content","content_wrapper","render","AppContainer","withRouter","dispatch","promise","getAuthUserData","Promise","all","then","NetworkApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","preloaderCSS","preloader","SET_USER_DATA","TOGGLE_IS_FETCHING","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","a","authAPI","me","response","data","resultCode","password","rememberMe","captcha","getCaptchaUrl","messages","length","stopSubmit","_error","securityAPI","posts","likesCount","dislikesCount","likesCountDefault","dislikesCountDefault","urlDefault","profile","status","addPost","newPostText","setStatus","getUserProfile","userId","usersAPI","getProfile","getStatus","profileAPI","updateStatus","savePhoto","file","photos","saveProfile","getState","reject","newPost","filter","p","postId","instance","axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","follow","post","unfollow","delete","warn","put","photoFile","formData","FormData","append","messagesIn","messagesOut","sendMessage","newMessageBody","updateObjectInArray","items","itemId","objPropName","newObjProps","user","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"0GACAA,EAAOC,QAAU,CAAC,YAAc,yBAAyB,oBAAsB,iCAAiC,OAAS,oBAAoB,IAAM,iBAAiB,gBAAkB,+B,+ECAtLD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,aAAe,6BAA6B,YAAc,4BAA4B,MAAQ,sBAAsB,OAAS,uBAAuB,cAAgB,gC,oFCW9LC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,qGCKSC,EAnBA,SAACC,GACZ,OAAO,gCACH,yBAAKC,UAAWC,IAAQC,cACpB,kBAAC,IAAD,CAASC,GAAG,aACR,yBAAKH,UAAWC,IAAQG,KAAMC,IAAI,oCAAoCC,IAAI,UAE9E,yBAAKN,UAAWC,IAAQM,aACnBR,EAAMS,OACD,kBAAC,IAAD,CAASL,GAAG,YACV,4BAAQH,UAAWC,IAAQQ,OAAQC,QAASX,EAAMU,QAAlD,WACA,0BAAMT,UAAWC,IAAQU,OAAQZ,EAAMY,QAEzC,kBAAC,IAAD,CAASR,GAAG,UAAZ,e,gBCRhBS,E,uKAEE,OAAO,oCACH,yBAAKZ,UAAWC,IAAQY,eACnBC,KAAKf,MAAMgB,eAAiB,kBAACC,EAAA,EAAD,MAAe,MAEhD,6BAAK,kBAAC,EAAWF,KAAKf,QACtB,6BACKe,KAAKf,MAAMS,OACN,kBAAC,IAAD,CAAUL,GAAG,aACb,kBAAC,IAAD,CAAUA,GAAG,iB,GAVLc,aAwBfC,eANS,SAACC,GAAD,MAAY,CAChCX,OAAQW,EAAMC,KAAKZ,OACnBG,MAAOQ,EAAMC,KAAKT,MAClBI,eAAgBI,EAAMC,KAAKL,kBAGS,CAACN,YAA1BS,CAAmCN,G,kCCTnCS,EAnBO,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,GAAIC,EAAe,EAAfA,IAAKC,EAAU,EAAVA,KACzBC,EAAO,YAAcH,EAEzB,OACI,yBAAKtB,UAAW0B,IAASC,cACrB,yBAAK3B,UAAW0B,IAASE,cACrB,kBAAC,IAAD,CAASzB,GAAIsB,GACT,yBAAKpB,IAAKkB,EAAKjB,IAAI,OAG3B,yBAAKN,UAAW0B,IAASG,YAAc,IAAMH,IAASI,eAClD,kBAAC,IAAD,CAAS3B,GAAIsB,GACRD,M,iBCHNO,EATI,SAAC,GAAgB,IAAf5B,EAAc,EAAdA,GAAI6B,EAAU,EAAVA,KACrB,OAAO,yBAAKhC,UAAWiC,IAAQC,MAC3B,kBAAC,IAAD,CAAS/B,GAAIA,EACJgC,gBAAiBF,IAAQG,YAC7BJ,KC+BEK,EAlCA,SAAC,GAAmB,IAC3BC,EAD0B,EAAjBC,YACsBC,QAC9BC,KAAI,SAAAC,GAAM,OACP,kBAAC,EAAD,CAAenB,IAAKmB,EAAOC,SACZnB,KAAMkB,EAAOlB,KACbF,GAAIoB,EAAOpB,GACXsB,IAAKF,EAAOpB,QAInC,OAAO,6BACH,kBAAC,EAAD,CAAYnB,GAAI,WAAY6B,KAAM,YAClC,kBAAC,EAAD,CAAY7B,GAAI,WAAY6B,KAAM,aAClC,kBAAC,EAAD,CAAY7B,GAAI,SAAU6B,KAAM,UAChC,kBAAC,EAAD,CAAY7B,GAAI,aAAc6B,KAAM,cACpC,kBAAC,EAAD,CAAY7B,GAAI,QAAS6B,KAAM,SAC/B,kBAAC,EAAD,CAAY7B,GAAI,SAAU6B,KAAM,UAChC,yBAAKhC,UAAW6C,IAAOC,UACnB,kBAAC,EAAD,CAAY3C,GAAI,YAAa6B,KAAM,cAEvC,yBAAKhC,UAAW6C,IAAOE,SACnB,kBAAC,EAAD,CAAY5C,GAAI,WAAY6B,KAAM,yCAEtC,yBAAKhC,UAAW6C,IAAOlB,cAEnB,yBAAK3B,UAAW6C,IAAOG,aAClBV,EAAiB,GACjBA,EAAiB,GACjBA,EAAiB,QCxBnBW,EAFS/B,aAJF,SAACC,GACnB,MAAO,CAACoB,YAAapB,EAAMoB,eAGPrB,CAAyBmB,G,OCH7Ca,EAAe,CAACC,aAAa,GA4BlBC,EA1BI,WAAmC,IAAlCjC,EAAiC,uDAAzB+B,EAAcG,EAAW,uCACjD,OAAQA,EAAOC,MACX,IANoB,sBAOhB,OAAO,2BACAnC,GADP,IAEIgC,aAAa,IAErB,QACI,OAAOhC,I,wCCLfoC,EAAWC,YAAgB,CAC3BC,YAAaC,IACbnB,YAAaoB,IACbC,UAAWC,IACXzC,KAAM0C,IACNC,KAAMC,IACNC,IAAKb,IAGHc,EAAmBxE,OAAOyE,sCAAwCC,IAClEC,EAAQC,YAAYf,EAAUW,EAAiBK,YAAgBC,OAIrE9E,OAAO+E,UAAYJ,EAEJA,QCtBFK,EAAe,SAACzD,GACzB,OAAO,SAAClB,GACJ,OACI,kBAAC,WAAD,CAAU4E,SAAU,kBAAC3D,EAAA,EAAD,OAChB,kBAACC,EAAclB,MCKzB6E,EAAmBC,IAAMC,MAAK,kBAAM,uDACpCC,EAAmBF,IAAMC,MAAK,kBAAM,uDACpCE,EAAiBH,IAAMC,MAAK,kBAAM,iCAClCG,EAAYJ,IAAMC,MAAK,kBAAM,kCAC7BI,EAAOL,IAAMC,MAAK,kBAAM,iCACxBK,EAAQN,IAAMC,MAAK,kBAAM,iCACzBM,EAAWP,IAAMC,MAAK,kBAAM,kCAC5BO,GAAmBR,IAAMC,MAAK,kBAAM,kCACpCQ,GAAQT,IAAMC,MAAK,kBAAM,uDAEzBS,G,kLAEEzE,KAAKf,MAAMyF,kB,+BAIX,OAAK1E,KAAKf,MAAMoD,YAIT,yBAAKnD,UAAWyF,IAAOC,aAC1B,yBAAK1F,UAAWyF,IAAOE,QACnB,kBAAC,EAAD,OAEJ,yBAAK3F,UAAWyF,IAAOG,KACnB,kBAAC,EAAD,OAEJ,yBAAK5F,UAAWyF,IAAOI,qBACnB,yBAAK7F,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,oBAAoBsE,OAAQrB,EAAaE,MAEzD,yBAAK5E,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,WAAWsE,OAAQrB,EAAaK,MAEhD,yBAAK/E,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,SAASsE,OAAQrB,EAAaM,MAE9C,yBAAKhF,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,aAAasE,OAAQrB,EAAaO,MAElD,yBAAKjF,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,QAAQsE,OAAQrB,EAAaQ,MAE7C,yBAAKlF,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,SAASsE,OAAQrB,EAAaS,MAE9C,yBAAKnF,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,YAAYsE,OAAQrB,EAAaU,MAEjD,yBAAKpF,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,WAAWsE,OAAQrB,EAAaW,OAEhD,yBAAKrF,UAAWyF,IAAOK,iBACnB,kBAAC,IAAD,CAAOrE,KAAK,SAASsE,OAAQrB,EAAaY,SApC3C,kBAACtE,EAAA,EAAD,U,GAPD6D,IAAM5D,WAsDpB+E,GAAe5B,YAAQ6B,IAAY/E,aAJf,SAACC,GAAD,MAAY,CAACgC,YAAahC,EAAM8C,IAAId,eAII,CAACqC,cHxDpC,kBAAM,SAACU,GAChC,IAAIC,EAAUD,EAASE,eAMvBC,QAAQC,IAAI,CAACH,IAAUI,MAAK,WACxBL,EAViC,CAAC5C,KAhBd,+BG0ETc,CAA+DmB,IAcnEiB,GAZI,WACf,OAAO,kBAAC,IAAD,KAGH,kBAAC,IAAD,CAAUnC,MAAOA,GACb,kBAAC2B,GAAD,SCzEZS,IAASV,OAQL,kBAAC,GAAD,MACAW,SAASC,eAAe,SXgHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBP,MAAK,SAAAQ,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a,gCYzI5B,sDAUepG,IANC,WACZ,OAAO,yBAAKhB,UAAWqH,IAAaC,WAChC,yBAAKjH,IAAKiH,IAAWhH,IAAI,Q,uLCF3BiH,EAAgB,oCAChBC,EAAqB,yCAGvBtE,EAAe,CACf5B,GAAI,KACJmG,MAAO,KACP9G,MAAO,KACPH,QAAQ,EACRO,gBAAgB,EAChB2G,WAAY,MAqBHC,EAAkB,SAACF,EAAOnG,EAAIX,EAAOH,GAAnB,MAA+B,CAC1D8C,KAAMiE,EACNK,QAAS,CAACH,QAAOnG,KAAIX,QAAOH,YAKnBqH,EAAuB,SAACH,GAAD,MAAiB,CACjDpE,KArC4B,8CAsC5BsE,QAAS,CAACF,gBAGDtB,EAAkB,yDAAM,WAAOF,GAAP,uBAAA4B,EAAA,sEACVC,IAAQC,KADE,OAEA,KAD3BC,EAD2B,QAEpBC,KAAKC,aAAmB,EACRF,EAASC,KAAKA,KAAlCT,EAD2B,EAC3BA,MAAOnG,EADoB,EACpBA,GAAIX,EADgB,EAChBA,MAChBuF,EAX6C,CAAC5C,KAAMkE,EAAoBzG,gBAW9C,IAC1BmF,EAASyB,EAAgBF,EAAOnG,EAAIX,GAAO,KALd,2CAAN,uDAuBlBA,EAAQ,SAAC8G,EAAOW,EAAUC,EAAYC,GAA9B,8CAA0C,WAAOpC,GAAP,iBAAA4B,EAAA,sEACpCC,IAAQpH,MAAM8G,EAAOW,EAAUC,EAAYC,GADP,OAE1B,KAD3BL,EADqD,QAE9CC,KAAKC,WAEdjC,EAASE,MAEwB,KAA7B6B,EAASC,KAAKC,YACdjC,EAASqC,KAETnB,EAAUa,EAASC,KAAKM,SAASC,OAAS,EAAIR,EAASC,KAAKM,SAAS,GAAK,aAC9EtC,EAASwC,YAAW,QAAS,CAACC,OAAQvB,MAViB,2CAA1C,uDAcRmB,EAAgB,yDAAM,WAAOrC,GAAP,iBAAA4B,EAAA,sEACRc,IAAYL,gBADJ,OACzBN,EADyB,OAEzBP,EAAaO,EAASC,KAAK3G,IACjC2E,EAAS2B,EAAqBH,IAHC,2CAAN,uDAqBhBjH,EAAS,yDAAM,WAAOyF,GAAP,SAAA4B,EAAA,sEACDC,IAAQtH,SADP,OAES,IAFT,OAEXyH,KAAKC,YACdjC,EAASyB,EAAgB,KAAM,KAAM,MAAM,IAHvB,2CAAN,uDAOP7D,IA/FK,WAAmC,IAAlC3C,EAAiC,uDAAzB+B,EAAcG,EAAW,uCAClD,OAAQA,EAAOC,MACX,KAAKiE,EACL,IAdwB,8CAepB,OAAO,2BACApG,GACAkC,EAAOuE,SAElB,KAAKJ,EACD,OAAO,2BACArG,GADP,IAEIJ,eAAgBsC,EAAOtC,iBAE/B,QACI,OAAOI,K,mBC9BnB5B,EAAOC,QAAU,CAAC,YAAc,4BAA4B,aAAe,6BAA6B,QAAU,wBAAwB,WAAa,2BAA2B,SAAW,2B,mBCA7LD,EAAOC,QAAU,CAAC,aAAe,oCAAoC,aAAe,oCAAoC,YAAc,mCAAmC,cAAgB,uC,mBCAzLD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,WAAa,iC,4SCU3D0D,EAAe,CACf2F,MAAO,CACH,CACIvH,GAAI,EACJ8F,QAAS,SACT0B,WAAY,KACZC,cAAe,IACfxH,IAAK,kDAET,CACID,GAAI,EACJ8F,QAAS,cACT0B,WAAY,OACZC,cAAe,KACfxH,IAAK,yEAET,CACID,GAAI,EACJ8F,QAAS,mBACT0B,WAAY,KACZC,cAAe,IACfxH,IAAK,0EAET,CACID,GAAI,EACJ8F,QAAS,kBACT0B,WAAY,IACZC,cAAe,GACfxH,IAAK,6FAGbyH,kBAAmB,GACnBC,qBAAsB,EACtBC,WAAY,6FAEZC,QAAS,KACTC,OAAQ,kBA4CCC,EAAU,SAACC,GAAD,MAAkB,CAAChG,KAtFzB,WAsFyCgG,gBAG7CC,EAAY,SAACH,GAAD,MAAa,CAAC9F,KAvFpB,aAuFsC8F,WAG5CI,EAAiB,SAACC,GAAD,8CAAY,WAAOvD,GAAP,eAAA4B,EAAA,sEACf4B,IAASC,WAAWF,GADL,OAChCxB,EADgC,OAEtC/B,EANwC,CAAC5C,KAvFpB,mBAuF4C6F,QAMzClB,EAASC,OAFK,2CAAZ,uDAKjB0B,EAAY,SAACH,GAAD,8CAAY,WAAOvD,GAAP,eAAA4B,EAAA,sEACV+B,IAAWD,UAAUH,GADX,OAC3BxB,EAD2B,OAEjC/B,EAASqD,EAAUtB,EAASC,OAFK,2CAAZ,uDAKZ4B,EAAe,SAACV,GAAD,8CAAY,WAAOlD,GAAP,SAAA4B,EAAA,sEACb+B,IAAWC,aAAaV,GADX,OAEH,IAFG,OAEvBlB,KAAKC,YACdjC,EAASqD,EAAUH,IAHa,2CAAZ,uDAOfW,EAAY,SAACC,GAAD,8CAAU,WAAO9D,GAAP,eAAA4B,EAAA,sEACR+B,IAAWE,UAAUC,GADb,OAEE,KAD3B/B,EADyB,QAElBC,KAAKC,YACdjC,EAtBqC,CAAC5C,KAtFnB,qBAsF6C2G,OAsBtChC,EAASC,KAAKA,KAAK+B,SAHlB,2CAAV,uDAOZC,EAAc,SAACf,GAAD,8CAAa,WAAOjD,EAAUiE,GAAjB,iBAAArC,EAAA,6DAC9B2B,EAASU,IAAW/I,KAAKE,GADK,SAEbuI,IAAWK,YAAYf,GAFV,UAGH,KAD3BlB,EAF8B,QAGvBC,KAAKC,WAHkB,gBAIhCjC,EAASsD,EAAeC,IAJQ,8BAMhCvD,EAASwC,YAAW,eAAgB,CAACC,OAAQV,EAASC,KAAKM,SAAS,MANpC,kBAOzBnC,QAAQ+D,OAAOnC,EAASC,KAAKM,SAAS,KAPb,4CAAb,yDAYZ9E,IAnFQ,WAAmC,IAAlCvC,EAAiC,uDAAzB+B,EAAcG,EAAW,uCACrD,OAAQA,EAAOC,MACX,IA/CS,WAgDL,IAAI+G,EAAU,CACV/I,GAAIH,EAAM0H,MAAMJ,OAAS,EACzBrB,QAAS/D,EAAOiG,YAChBR,WAAY3H,EAAM6H,kBAClBD,cAAe5H,EAAM8H,qBACrB1H,IAAKJ,EAAM+H,YAEf,OAAO,2BACA/H,GADP,IAEI0H,MAAM,GAAD,mBAAM1H,EAAM0H,OAAZ,CAAmBwB,MAGhC,IAzDY,cA0DR,OAAO,2BACAlJ,GADP,IAEI0H,MAAO1H,EAAM0H,MAAMyB,QAAO,SAAAC,GAAC,OAAIA,EAAEjJ,KAAO+B,EAAOmH,YAEvD,IAhEiB,mBAiEb,OAAO,2BACArJ,GADP,IAEIgI,QAAS9F,EAAO8F,UAExB,IApEW,aAqEP,OAAO,2BACAhI,GADP,IAEIiI,OAAQ/F,EAAO+F,SAEvB,IAvEmB,qBAyEf,OAAO,2BACAjI,GADP,IAEIgI,QAAQ,2BAAKhI,EAAMgI,SAAZ,IAAqBc,OAAQ5G,EAAO4G,WAEnD,QACI,OAAO9I,K,+BCvFnB,oJAEMsJ,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CAAC,UAAW,0CAGZnB,EAAW,CACpBoB,SADoB,WACuB,IAAlCC,EAAiC,uDAAnB,EAAGC,EAAgB,uDAAL,IACjC,OAAOP,EAASQ,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAClDzE,MAAK,SAAA0B,GACE,OAAOA,EAASC,SAKhCgD,OAToB,SASbzB,GACH,OAAOgB,EAASU,KAAT,iBAAwB1B,KAGnC2B,SAboB,SAaX3B,GACL,OAAOgB,EAASY,OAAT,iBAA0B5B,KAGrCE,WAjBoB,SAiBTF,GAEP,OADAtC,QAAQmE,KAAK,gEACNzB,EAAWF,WAAWF,KAKxBI,EAAa,CACtBF,WADsB,SACXF,GACP,OAAOgB,EAASQ,IAAI,WAAaxB,IAKrCG,UAPsB,SAOZH,GAGN,OAAOgB,EAASQ,IAAI,kBAAoBxB,IAG5CK,aAbsB,SAaTV,GAGT,OAAOqB,EAASc,IAAT,kBAAgC,CAACnC,OAAQA,KAGpDW,UAnBsB,SAmBZyB,GACN,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBf,EAASc,IAAT,iBAA+BE,EAAU,CAAC,eAAgB,yBAGrEvB,YAzBsB,SAyBVf,GACR,OAAOsB,EAASc,IAAT,WAAyBpC,KAI3BpB,EAAU,CACnBC,GADmB,WAEf,OAAOyC,EAASQ,IAAT,aAEXtK,MAJmB,SAIb8G,EAAOW,GAA+C,IAArCC,EAAoC,wDAAhBC,EAAgB,uDAAN,KACjD,OAAOmC,EAASU,KAAT,cAA6B,CAAC1D,QAAOW,WAAUC,aAAYC,aAEtE7H,OAPmB,WAQf,OAAOgK,EAASY,OAAT,iBAIFzC,EAAc,CACvBL,cADuB,WAEnB,OAAOkC,EAASQ,IAAT,+B,qFC1EX/H,EAAe,CACfV,QAAS,CACL,CACIlB,GAAI,EACJE,KAAM,YACNmB,SAAU,wEAEd,CACIrB,GAAI,EACJE,KAAM,SACNmB,SAAU,+HAEd,CACIrB,GAAI,EACJE,KAAM,YACNmB,SAAU,6CAEd,CACIrB,GAAI,EACJE,KAAM,YACNmB,SAAU,mEAEd,CACIrB,GAAI,EACJE,KAAM,eACNmB,SAAU,+CAEd,CACIrB,GAAI,EACJE,KAAM,QACNmB,SAAU,+CAEd,CACIrB,GAAI,EACJE,KAAM,QACNmB,SAAU,+CAEd,CACIrB,GAAI,EACJE,KAAM,MACNmB,SAAU,2CAEd,CACIrB,GAAI,EACJE,KAAM,QACNmB,SAAU,+CAEd,CACIrB,GAAI,GACJE,KAAM,QACNmB,SAAU,+CAEd,CACIrB,GAAI,GACJE,KAAM,MACNmB,SAAU,2CAEd,CACIrB,GAAI,GACJE,KAAM,QACNmB,SAAU,+CAEd,CACIrB,GAAI,GACJE,KAAM,OACNmB,SAAU,6CAEd,CACIrB,GAAI,GACJE,KAAM,YACNmB,SAAU,uDAEd,CACIrB,GAAI,GACJE,KAAM,WACNmB,SAAU,qDAEd,CACIrB,GAAI,GACJE,KAAM,WACNmB,SAAU,qDAEd,CACIrB,GAAI,GACJE,KAAM,aACNmB,SAAU,uDAEd,CACIrB,GAAI,GACJE,KAAM,mBACNmB,SAAU,8DAGlBiJ,WAAY,CACR,CAACtK,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,EAAG8F,QAAS,gBACjB,CAAC9F,GAAI,GAAI8F,QAAS,kBAEtByE,YAAa,CACT,CAACvK,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,EAAG8F,QAAS,iBACjB,CAAC9F,GAAI,GAAI8F,QAAS,oBAqBb0E,EAAc,SAACC,GAAD,MAAqB,CAACzI,KA1IxB,mBA0IgDyI,mBAE1DpI,IAnBO,WAAmC,IAAlCxC,EAAiC,uDAAzB+B,EAAcG,EAAW,uCACpD,OAAQA,EAAOC,MACX,IA3HiB,mBA4Hb,IAAItB,EAAOqB,EAAO0I,eAClB,OAAO,2BACA5K,GADP,IAEI0K,YAAY,GAAD,mBAAM1K,EAAM0K,aAAZ,CAAyB,CAChCvK,GAAIH,EAAM0K,YAAYpD,OAAS,EAC/BrB,QAASpF,OAIrB,QACI,OAAOb,K,2PCtIN6K,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMxJ,KAAI,SAAA4J,GACb,OAAIA,EAAKF,KAAiBD,EAEf,2BAAIG,GAASD,GAEjBC,MCKXnJ,EAAe,CACfoJ,MAAO,GACPtB,SAAU,IACVuB,gBAAiB,EACjBxB,YAAa,EACbyB,YAAY,EACZC,oBAAqB,IA2DZC,EAAgB,SAACjD,GAAD,MAAa,CAACnG,KAzE5B,SAyE0CmG,WAC5CkD,EAAkB,SAAClD,GAAD,MAAa,CAACnG,KAzE5B,WAyE4CmG,WAEhDmD,EAAiB,SAAC7B,GAAD,MAAkB,CAACzH,KAzExB,mBAyEgDyH,gBAE5D8B,EAAmB,SAACL,GAAD,MAAiB,CAAClJ,KAzEvB,qBAyEiDkJ,eAC/DM,EAA0B,SAACN,EAAY/C,GAAb,MAAyB,CAACnG,KAzE/B,4BAyEgEkJ,aAAY/C,WAEjGsD,EAAe,SAACC,EAAMhC,GAC/B,8CAAO,WAAO9E,GAAP,eAAA4B,EAAA,6DACH5B,EAAS2G,GAAiB,IAC1B3G,EAAS0G,EAAeI,IAFrB,SAIctD,IAASoB,SAASkC,EAAMhC,GAJtC,OAIC9C,EAJD,OAKHhC,EAAS2G,GAAiB,IAC1B3G,EAb4B,CAAC5C,KAzEnB,YAyEoCgJ,MAa5BpE,EAAK+D,QACvB/F,EAZgD,CAAC5C,KAzE3B,wBAyEwD2J,MAYlD/E,EAAKgF,aAP9B,2CAAP,uDAWEC,EAAkB,uCAAG,WAAOjH,EAAUuD,EAAQ2D,EAAWC,GAApC,SAAAvF,EAAA,6DACvB5B,EAAS4G,GAAwB,EAAMrD,IADhB,SAEF2D,EAAU3D,GAFR,OAIU,IAJV,OAIVvB,KAAKC,YACdjC,EAASmH,EAAc5D,IAE3BvD,EAAS4G,GAAwB,EAAOrD,IAPjB,2CAAH,4DAUXyB,EAAS,SAACzB,GACnB,8CAAO,WAAOvD,GAAP,eAAA4B,EAAA,sDACCsF,EAAY1D,IAASwB,OAAOoC,KAAK5D,KACrCyD,EAAmBjH,EAAUuD,EAAQ2D,EAAWV,GAF7C,2CAAP,uDAMStB,EAAW,SAAC3B,GACrB,8CAAO,WAAOvD,GAAP,eAAA4B,EAAA,sDACCsF,EAAY1D,IAAS0B,SAASkC,KAAK5D,KACvCyD,EAAmBjH,EAAUuD,EAAQ2D,EAAWT,GAF7C,2CAAP,uDAMW9I,IApGM,WAAmC,IAAlC1C,EAAiC,uDAAzB+B,EAAcG,EAAW,uCACnD,OAAQA,EAAOC,MACX,IAnBO,SAoBH,OAAO,2BACAnC,GADP,IAEImL,MAAON,EAAoB7K,EAAMmL,MAAMjJ,EAAOoG,OAAO,KAAM,CAAC8D,UAAU,MAQ9E,IA7BS,WA8BL,OAAO,2BACApM,GADP,IAEImL,MAAON,EAAoB7K,EAAMmL,MAAMjJ,EAAOoG,OAAO,KAAM,CAAC8D,UAAU,MAQ9E,IAvCU,YAwCN,OAAO,2BACApM,GADP,IAEImL,MAAOjJ,EAAOiJ,QAEtB,IA3CiB,mBA4Cb,OAAO,2BACAnL,GADP,IAEI4J,YAAa1H,EAAO0H,cAE5B,IA/CsB,wBAgDlB,OAAO,2BACA5J,GADP,IAEIoL,gBAAiBlJ,EAAO4J,QAEhC,IAnDmB,qBAoDf,OAAO,2BACA9L,GADP,IAEIqL,WAAYnJ,EAAOmJ,aAE3B,IAvD0B,4BAwDtB,OAAO,2BACArL,GADP,IAEIsL,oBAAqBpJ,EAAOmJ,WAAP,sBACXrL,EAAMsL,qBADK,CACgBpJ,EAAOoG,SACtCtI,EAAMsL,oBAAoBnC,QAAO,SAAAhJ,GAAE,OAAIA,IAAO+B,EAAOoG,YAEnE,QACI,OAAOtI,K,mBCxEnB5B,EAAOC,QAAU,IAA0B,8C,mBCC3CD,EAAOC,QAAU,CAAC,UAAY,gC","file":"static/js/main.4e2be60c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__3pZqc\",\"app_wrapper_content\":\"App_app_wrapper_content__3GhHK\",\"header\":\"App_header__22Y0B\",\"nav\":\"App_nav__2G3c1\",\"content_wrapper\":\"App_content_wrapper__q5vQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Header_logo__2pS7H\",\"header_block\":\"Header_header_block__OA_Ih\",\"login_block\":\"Header_login_block__SOdqg\",\"login\":\"Header_login__17erq\",\"logout\":\"Header_logout__3Ti7B\",\"login_process\":\"Header_login_process__2NAal\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport headCSS from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header>\r\n        <div className={headCSS.header_block}>\r\n            <NavLink to='/profile/'>\r\n                <img className={headCSS.logo} src='/social-network/pic/buildlogo.jpg' alt='logo'/>\r\n            </NavLink>\r\n            <div className={headCSS.login_block}>\r\n                {props.isAuth\r\n                    ? <NavLink to='/profile'>\r\n                        <button className={headCSS.logout} onClick={props.logout}>Log out</button>\r\n                        <span className={headCSS.login}>{props.login}</span>\r\n                    </NavLink>\r\n                    : <NavLink to='/login'> Login </NavLink>\r\n                }\r\n            </div>\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;\r\n","import React, {Component} from 'react';\r\nimport Header from \"./Header\";\r\nimport headCSS from './Header.module.css';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {logout} from \"../../redux/auth_reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nclass HeaderContainer extends Component {\r\n    render() {\r\n        return <>\r\n            <div className={headCSS.login_process}>\r\n                {this.props.isFetchingAuth ? <Preloader/> : null}\r\n            </div>\r\n            <div><Header {...this.props}/></div>\r\n            <div>\r\n                {this.props.isAuth\r\n                    ? <Redirect to='/profile'/>\r\n                    : <Redirect to='/login'/>\r\n                }\r\n            {/* if use Redirect than after any update redirecting to profile */}\r\n            </div>\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    isFetchingAuth: state.auth.isFetchingAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);\r\n","import React from 'react';\r\nimport navFrCSS from './NavBarFriends.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavBarFriends = ({id, url, name}) => {\r\n    let path = '/dialogs/' + id;\r\n\r\n    return (\r\n        <div className={navFrCSS.avatar_block}>\r\n            <div className={navFrCSS.avatar_photo}>\r\n                <NavLink to={path}>\r\n                    <img src={url} alt=\"\"/>\r\n                </NavLink>\r\n            </div>\r\n            <div className={navFrCSS.avatar_name + ' ' + navFrCSS.avatar_active}>\r\n                <NavLink to={path}>\r\n                    {name}\r\n                </NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBarFriends;\r\n","import React from 'react';\r\nimport linkCSS from './NavBarLink.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst NavBarLink = ({to, body}) => {\r\n    return <div className={linkCSS.item}>\r\n        <NavLink to={to}\r\n                 activeClassName={linkCSS.activeLink}>\r\n            {body}\r\n        </NavLink>\r\n    </div>\r\n}\r\n\r\nexport default NavBarLink;\r\n","import React from 'react';\r\nimport navCSS from './NavBar.module.css';\r\nimport NavBarFriends from \"./NavBarFriends/NavBarFriends\";\r\nimport NavBarLink from \"./NavBarLink\";\r\n\r\nconst NavBar = ({dialogsPage}) => {\r\n    let friendsShortList = dialogsPage.dialogs\r\n        .map(dialog =>\r\n            <NavBarFriends url={dialog.photoUrl}\r\n                           name={dialog.name}\r\n                           id={dialog.id}\r\n                           key={dialog.id}\r\n            />\r\n        );\r\n\r\n    return <nav>\r\n        <NavBarLink to={'/profile'} body={'Profile'}/>\r\n        <NavBarLink to={'/dialogs'} body={'Messages'}/>\r\n        <NavBarLink to={'/users'} body={'Users'}/>\r\n        <NavBarLink to={'/followers'} body={'Followers'}/>\r\n        <NavBarLink to={'/news'} body={'News'}/>\r\n        <NavBarLink to={'/music'} body={'Music'}/>\r\n        <div className={navCSS.settings}>\r\n            <NavBarLink to={'/settings'} body={'Settings'}/>\r\n        </div>\r\n        <div className={navCSS.friends}>\r\n            <NavBarLink to={'/friends'} body={<b>FRIENDS</b>}/>\r\n        </div>\r\n        <div className={navCSS.avatar_block}>\r\n            {/*put 3 followed users*/}\r\n            <div className={navCSS.avatars_top}>\r\n                {friendsShortList[5]}\r\n                {friendsShortList[1]}\r\n                {friendsShortList[15]}\r\n            </div>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport default NavBar;\r\n","import NavBar from \"./NavBar\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {dialogsPage: state.dialogsPage}\r\n}\r\n\r\nconst NavBarContainer = connect(mapStateToProps)(NavBar);\r\n\r\nexport default NavBarContainer;\r\n","import {getAuthUserData} from \"./auth_reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {initialized: false};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    /*promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    });*/\r\n    /*let promise1 = dispatch(somethingElse());\r\n    let promise2 = dispatch(somethingElse());*/\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\nexport default appReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile_reducer\";\r\nimport dialogReducer from \"./dialogs_reducer\";\r\nimport usersReducer from \"./users_reducer\";\r\nimport authReducer from \"./auth_reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app_reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware)); without redux extension in browser\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return (\r\n            <Suspense fallback={<Preloader/>}>\r\n                <Component {...props}/>\r\n            </Suspense>\r\n        )\r\n    }\r\n};\r\n","import React from 'react';\r\nimport appCSS from './App.module.css';\r\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport NavBarContainer from \"./components/Navbar/NavBarContainer\";\r\nimport {initializeApp} from \"./redux/app_reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux_store\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst Followers = React.lazy(() => import('./components/Users/Followers'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst FriendsContainer = React.lazy(() => import('./components/Friends/FriendsContainer'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return <div className={appCSS.app_wrapper}>\r\n            <div className={appCSS.header}>\r\n                <HeaderContainer/>\r\n            </div>\r\n            <div className={appCSS.nav}>\r\n                <NavBarContainer/>\r\n            </div>\r\n            <div className={appCSS.app_wrapper_content}>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/followers' render={withSuspense(Followers)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/news' render={withSuspense(News)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/music' render={withSuspense(Music)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/settings' render={withSuspense(Settings)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/friends' render={withSuspense(FriendsContainer)}/>\r\n                </div>\r\n                <div className={appCSS.content_wrapper}>\r\n                    <Route path='/login' render={withSuspense(Login)}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({initialized: state.app.initialized});\r\n\r\n// export default compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst NetworkApp = () => {\r\n    return <HashRouter>\r\n        {/*return <HashRouter basename={process.env.PUBLIC_URL}>*/}\r\n        {/*return <BrowserRouter basename={process.env.PUBLIC_URL}>*/}\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n        {/*</BrowserRouter>*/}\r\n        {/*</HashRouter>*/}\r\n    </HashRouter>\r\n}\r\n\r\nexport default NetworkApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport NetworkApp from \"./App\";\r\n/*import {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport App from \"./App\";\r\nimport store from \"./redux/redux_store\";*/\r\n\r\nReactDOM.render(\r\n    /*<React.StrictMode>\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n    </React.StrictMode>,*/\r\n    <NetworkApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n/*  If you want your app to work offline and load faster, you can change\r\n    unregister() to register() below. Note this comes with some pitfalls.\r\n    Learn more about service workers: https://bit.ly/CRA-PWA */\r\n","import React from \"react\";\r\nimport preloader from \"../../../assets/images/loading_gold_svg.svg\";\r\nimport preloaderCSS from './Preloader.module.css';\r\n\r\nlet Preloader = () => {\r\n    return <div className={preloaderCSS.preloader}>\r\n        <img src={preloader} alt=\"\"/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n","import {authAPI} from \"../api/api\";\r\nimport {securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst TOGGLE_IS_FETCHING = 'social-network/auth/TOGGLE_IS_FETCHING';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'social-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetchingAuth: true,\r\n    captchaUrl: null, //if nul then captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetchingAuth: action.isFetchingAuth\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (email, id, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {email, id, login, isAuth}\r\n});\r\n\r\nexport const toggleIsFetching = (isFetchingAuth) => ({type: TOGGLE_IS_FETCHING, isFetchingAuth});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl},\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {email, id, login} = response.data.data;\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setAuthUserData(email, id, login, true));\r\n    }\r\n};\r\n\r\n/*\r\nexport const getAuthUserData = () => (dispatch) => {\r\n    return authAPI.me()\r\n        .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    let {email, id, login} = response.data.data;\r\n                    dispatch(toggleIsFetching(false));\r\n                    dispatch(setAuthUserData(email, id, login, true));\r\n                }\r\n            }\r\n        )\r\n};\r\n*/\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        // success get auth data\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\n/*\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n    authAPI.login(email, password, rememberMe)\r\n        .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUserData());\r\n                } else {\r\n                    let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n                    dispatch(stopSubmit('login', {_error: message}));\r\n                }\r\n            }\r\n        )\r\n};\r\n*/\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatars_top\":\"NavBar_avatars_top__39MEv\",\"avatar_block\":\"NavBar_avatar_block__3XZ2H\",\"friends\":\"NavBar_friends__vV0W5\",\"activeLink\":\"NavBar_activeLink__2KyJX\",\"settings\":\"NavBar_settings__2sulx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar_block\":\"NavBarFriends_avatar_block__2g_bw\",\"avatar_photo\":\"NavBarFriends_avatar_photo__1sTEP\",\"avatar_name\":\"NavBarFriends_avatar_name__7ydA-\",\"avatar_active\":\"NavBarFriends_avatar_active__20Dyc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavBarLink_item__2wsrX\",\"activeLink\":\"NavBarLink_activeLink__10Vhv\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport React from \"react\";\r\nimport {stopSubmit} from \"redux-form\";\r\n// import antPortrait from './../assets/images/antPortrait.jpg';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            message: 'Hello!',\r\n            likesCount: 1005,\r\n            dislikesCount: 105,\r\n            url: 'https://pixy.org/src/480/thumbs190/4800648.jpg'\r\n        },\r\n        {\r\n            id: 2,\r\n            message: 'How\"re you?',\r\n            likesCount: 100500,\r\n            dislikesCount: 1050,\r\n            url: 'https://cache.desktopnexus.com/thumbseg/1753/1753481-bigthumbnail.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            message: 'How\"s your life?',\r\n            likesCount: 1050,\r\n            dislikesCount: 150,\r\n            url: 'https://hdwallsbox.com/wallpapers/m/12/nature-flowers-macro-m11645.jpg'\r\n        },\r\n        {\r\n            id: 4,\r\n            message: 'How\"s your day?',\r\n            likesCount: 150,\r\n            dislikesCount: 15,\r\n            url: 'https://avatars.mds.yandex.net/get-pdb/1590269/e908d30d-87d8-47e8-9c56-c5d92fd9ff79/s375'\r\n        },\r\n    ],\r\n    likesCountDefault: 10,\r\n    dislikesCountDefault: 1,\r\n    urlDefault: 'https://www.akibanation.com/wp-content/uploads/2016/07/Kon.BLEACH.full_.170410-150x150.jpg',\r\n    // urlDefault: antPortrait,\r\n    profile: null,\r\n    status: 'default status',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: state.posts.length + 1,\r\n                message: action.newPostText,\r\n                likesCount: state.likesCountDefault,\r\n                dislikesCount: state.dislikesCountDefault,\r\n                url: state.urlDefault,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            debugger;\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos},\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    const response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.id;\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n        // dispatch(stopSubmit('edit-profile', {'contacts':{'facebook': response.data.messages[0]}}));\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY': '99557ee1-9f56-4ba8-a907-a3a9bd527d18'}\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 100) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                    return response.data;\r\n                }\r\n            )\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method.Please use profileApi object//api.js line 27');\r\n        return profileAPI.getProfile(userId);\r\n        // return instance.get(`profile/${userId}`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n        // return instance.get(`profile/${userId}`)\r\n        // return axios.get(`https://social-network.samuraijs.com/api/1.0/profile/2`);\r\n    },\r\n\r\n    getStatus(userId) {\r\n        // return instance.get(`profile/status/${userId}`)\r\n        // return instance.get(`status/${userId}`)\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n\r\n    updateStatus(status) {\r\n        // return instance.put(`profile/status/${status}`)\r\n        // return instance.put(`profile/status/` + {status})\r\n        return instance.put(`profile/status/`, {status: status});\r\n    },\r\n\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo/`, formData, {'Context-Type': 'multipart/form-data'});\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return instance.put(`profile/`, profile);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me/`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login/`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login/`);\r\n    },\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n};\r\n","const SEND_MESSAGE_OUT = 'SEND-MESSAGE-OUT';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'Peppa Pig',\r\n            photoUrl: 'https://sun9-28.userapi.com/c847021/v847021528/44667/lMWp94wS5jQ.jpg'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'George',\r\n            photoUrl: 'https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/81/81dfb27a31316221ac10f3b1f9b6a3a55899d0af_medium.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Daddy Pig',\r\n            photoUrl: 'https://img.kp40.ru/avatars/30569.jpg?i=1'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Mummy Pig',\r\n            photoUrl: 'https://slovnet.ru/wp-content/uploads/2018/12/18-10-150x150.png'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'April O`Neil',\r\n            photoUrl: '/social-network/pic/avatars/April/April.png'\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'Bibop',\r\n            photoUrl: '/social-network/pic/avatars/Bibop/Bibop.jpg'\r\n        },\r\n        {\r\n            id: 7,\r\n            name: 'Casey',\r\n            photoUrl: '/social-network/pic/avatars/Casey/Casey.jpg'\r\n        },\r\n        {\r\n            id: 8,\r\n            name: 'Don',\r\n            photoUrl: '/social-network/pic/avatars/Don/Don.jpg'\r\n        },\r\n        {\r\n            id: 9,\r\n            name: 'Karai',\r\n            photoUrl: '/social-network/pic/avatars/Karai/Karai.jpg'\r\n        },\r\n        {\r\n            id: 10,\r\n            name: 'Krang',\r\n            photoUrl: '/social-network/pic/avatars/Krang/Krang.jpg'\r\n        },\r\n        {\r\n            id: 11,\r\n            name: 'Leo',\r\n            photoUrl: '/social-network/pic/avatars/Leo/Leo.jpg'\r\n        },\r\n        {\r\n            id: 12,\r\n            name: 'Mikey',\r\n            photoUrl: '/social-network/pic/avatars/Mikey/Mikey.jpg'\r\n        },\r\n        {\r\n            id: 13,\r\n            name: 'Raph',\r\n            photoUrl: '/social-network/pic/avatars/Raph/Raph.jpg'\r\n        },\r\n        {\r\n            id: 14,\r\n            name: 'Rockstady',\r\n            photoUrl: '/social-network/pic/avatars/Rockstady/Rockstady.jpg'\r\n        },\r\n        {\r\n            id: 15,\r\n            name: 'Shredder',\r\n            photoUrl: '/social-network/pic/avatars/Shredder/Shredder.png'\r\n        },\r\n        {\r\n            id: 16,\r\n            name: 'Splinter',\r\n            photoUrl: '/social-network/pic/avatars/Splinter/Splinter.jpg'\r\n        },\r\n        {\r\n            id: 17,\r\n            name: 'Foot Ninja',\r\n            photoUrl: '/social-network/pic/avatars/FootClan/Foot-Ninja.jpg'\r\n        },\r\n        {\r\n            id: 18,\r\n            name: 'Elite Foot Ninja',\r\n            photoUrl: '/social-network/pic/avatars/FootClan/Elite-Foot-Ninja.jpg'\r\n        },\r\n    ],\r\n    messagesIn: [\r\n        {id: 1, message: 'Message_in_1'},\r\n        {id: 2, message: 'Message_in_2'},\r\n        {id: 3, message: 'Message_in_3'},\r\n        {id: 4, message: 'Message_in_4'},\r\n        {id: 5, message: 'Message_in_5'},\r\n        {id: 6, message: 'Message_in_6'},\r\n        {id: 7, message: 'Message_in_7'},\r\n        {id: 8, message: 'Message_in_8'},\r\n        {id: 9, message: 'Message_in_9'},\r\n        {id: 10, message: 'Message_in_10'},\r\n    ],\r\n    messagesOut: [\r\n        {id: 1, message: 'Message_out_1'},\r\n        {id: 2, message: 'Message_out_2'},\r\n        {id: 3, message: 'Message_out_3'},\r\n        {id: 4, message: 'Message_out_4'},\r\n        {id: 5, message: 'Message_out_5'},\r\n        {id: 6, message: 'Message_out_6'},\r\n        {id: 7, message: 'Message_out_7'},\r\n        {id: 8, message: 'Message_out_8'},\r\n        {id: 9, message: 'Message_out_9'},\r\n        {id: 10, message: 'Message_out_10'},\r\n    ],\r\n};\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE_OUT: {\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messagesOut: [...state.messagesOut, {\r\n                    id: state.messagesOut.length + 1,\r\n                    message: body,\r\n                }],\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newMessageBody) => ({type: SEND_MESSAGE_OUT, newMessageBody});\r\n\r\nexport default dialogReducer;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(user => {\r\n        if (user[objPropName] === itemId) {\r\n        // if (user.['id'] === itemId) {\r\n            return {...user, ...newObjProps}\r\n        }\r\n        return user;\r\n    });\r\n}\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object_helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_PROGRESS = 'TOGGLE_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,'id', {followed: true})\r\n                /*users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: true}\r\n                    }\r\n                    return user;\r\n                }),*/\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,'id', {followed: false})\r\n                /*users: state.users.map(user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: false}\r\n                    }\r\n                    return user;\r\n                }),*/\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, userId, apiMethod, followSuccess);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        followUnfollowFlow(dispatch, userId, apiMethod, unfollowSuccess);\r\n    };\r\n};\r\n\r\nexport default usersReducer;\r\n","module.exports = __webpack_public_path__ + \"static/media/loading_gold_svg.f9b49bf2.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2mWV3\"};"],"sourceRoot":""}